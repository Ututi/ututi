Test user wall actions
======================

   >>> browser = Browser.logIn('user3@ututi.lt', 'password')
   >>> browser.getLink("News feed").click()

   >>> browser2 = Browser.logIn('user2@ututi.lt', 'password')
   >>> browser2.getLink('News feed').click()

   >>> form = browser.getForm(id='message_form')
   >>> form.getControl(name='rcpt_group').displayValue = ['Moderatoriai']
   >>> form.getControl(name='subject').value = 'Sending my group a message from my wall!'
   >>> form.getControl(name='message').value = 'Booyah'
   >>> form.getControl('Send').click()

   >>> browser2 = Browser.logIn()
   >>> browser2.getLink('News feed').click()

   >>> browser2.printQuery("//div[contains(@class, 'wall-entry')]//text()")
   Third user
   has posted a new message
   Sending my group a message from my wall!
   to the group
   Moderatoriai
   ...
   Booyah
   ...

   >>> from ututi.lib.mailer import mail_queue
   >>> mail_queue.pop().payload()
   'Booyah'

   >>> browser.getLink("News feed").click()

   >>> form = browser.getForm(id='wiki_form')
   >>> form.getControl(name='page_title').value = 'A wiki page'
   >>> form.getControl(name='page_content').value = 'This wiki page was created from my wall!'
   >>> form.getControl('Save').click()

   >>> browser.printQuery("//div[@class='flash-message']/span/text()")
   Wiki page created.
   ...

We can also upload a file from the wall. Let's do just that, shall we?

    >>> res = browser.app.post("/wall/upload_file_js",
    ...                        params={'folder': 'a', 'target_id': '1'},
    ...                        upload_files=[("attachment", "text;for you.txt", "Test")])

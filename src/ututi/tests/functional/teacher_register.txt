Test registration of teachers
=============================

   >>> browser = Browser()

There currently is no link visible to the teacher registration, so
let's type in that url:

   >>> browser.open('http://localhost/teacher/register')
   >>> form = browser.getForm(id='teacher_registration_form')
   >>> form.getControl('Full name').value = 'Mr. teacher'
   >>> form.getControl('Email').value = 'teacher@vu.lt'
   >>> form.getControl('Position').value = 'Tutor'
   >>> form.getControl(name='new_password').value = 'mapassword'
   >>> form.getControl(name='repeat_password').value = 'mapassword'
   >>> form.getControl(name='location-0').value = 'Vilniaus universitetas'
   >>> form.getControl(name='agree').value = True
   >>> form.getControl('Register').click()

   >>> browser.url
   'http://localhost/register/welcome'

Teacher gets a confirmation email so he could approve his
registration:

   >>> from ututi.lib.mailer import mail_queue
   >>> mail_queue.pop()
   <EmailInfo sender='info@ututi.lt' recipients=[u'teacher@vu.lt']>

Teachers can also register using facebook:
    >>> browser = Browser()
    >>> browser.open('/federation/test_facebook_teacher_login')
    >>> browser.url
    'http://localhost/teacher/federated_registration'
    >>> browser.getControl(name='agree').value = True
    >>> browser.getControl(name='location-0').value = 'Vilniaus universitetas'
    >>> browser.getControl('Position').value = 'Tutor'
    >>> browser.getControl('Register').click()

    >>> browser.url
    'http://localhost/register/welcome?fb=True'


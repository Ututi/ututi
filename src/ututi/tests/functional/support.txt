Supporting Ututi
================

Users should be able to donate money to our application. All they have
to do is - log in:

    >>> browser = Browser.logIn()

And click 'Support us' button:

    >>> browser.getControl('Support Ututi!').click()

They should get sent to the page that provides them different options
for payment:

    >>> browser.getControl('Dummy pay').click()

After paying, they get redirected to their profile thank you page:

    >>> browser.url
    'http://localhost/profile/thank_you'

They could have skipped the payment, and just clicked cancel:

    >>> browser.getControl('Support Ututi!').click()
    >>> browser.getLink('Go back').click()

That would have sent them back to the profile as well:

    >>> browser.url
    'http://localhost/profile/no_thank_you'

The callback url that payment service would post to our application is
visible in the dummy payment page:

    >>> browser.getControl('Support Ututi!').click()
    >>> browser.getLink('Process payment').url
    'http://localhost/process_transaction?status=1&lang=LIT&transaction=&name=Jonas&transaction2=&_ss2=&paytext=Remiam%20remiam&orderid=support_1&merchantid=xxx&currency=LTL&amount=0&error=&test=1&surename=Petraitis&payment=Snoras&_ss1='

Let's click it, and register the payment in the database:

    >>> browser.getLink('Process payment').click()
    >>> browser.contents
    'OK'

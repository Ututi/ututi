Tests for group mailing list moderation events
==============================================

Set Up:

    >>> browser = Browser.logIn('admin@ututi.lt', 'asdasd')
    >>> browser.getLink('Moderatoriai').click()
    >>> browser.getLink('Edit').click()
    >>> browser.getControl('Forum type').value = ['forum']
    >>> browser.getControl('Save').click()

Now let's try writing a couple of messages to the forum:

    >>> from ututi.tests.functional import send_test_message
    >>> send_test_message('email_from_user2.txt', '33', to='moderators@groups.ututi.lt')
    >>> send_test_message('email_from_non_ututi.txt', '42', to='moderators@groups.ututi.lt', subject='Hello from varlius')
    >>> send_test_message('email_with_attachment.txt', '47', to='moderators@groups.ututi.lt')

Two first emails get ignored, but if a member of the group sends such
an email, it gets posted into the first category of this forum:

    >>> browser.click('Forum')
    >>> browser.printCssQuery('.post-title , .m-on .verysmall', include_attributes=[''])
    <a>Also - an attachment</a>
    <div>Also, I just wanted to send you this file:</div>

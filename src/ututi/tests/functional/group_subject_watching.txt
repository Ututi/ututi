Group subject watching
======================

    >>> browser = Browser()

    >>> form = browser.getForm('login_form')
    >>> form.getControl('Email').value = "admin@ututi.lt"
    >>> form.getControl('Password').value = "asdasd"
    >>> form.getControl('Login').click()

    >>> browser.open('http://localhost/group/moderators')
    >>> browser.getLink('Subjects', url='moderators').click()

    >>> browser.printQuery("id('watched-subjects')")
    <ul id="watched-subjects"></ul>

    >>> browser.printQuery("id('search-results')")
    <div id="search-results">
      <div class="search-item">
        <a href="/subject/vu/mat_analize" title="Matematin&#279; analiz&#279;" class="item-title larger">Matematin&#279; analiz&#279;</a>
        <a href="/group/moderators/watch_subject?subject_location_id=1&amp;subject_id=mat_analize" class="select_subject_button">Pick</a>
        <div>
          <span class="small">prof. E. Misevi&#269;ius</span>
        </div>
        <div class="item-tags">
        </div>
      </div>
    </div>

    >>> browser.getLink('Pick', url='mat_analize').click()
    >>> browser.printQuery("id('watched-subjects')")
    <ul id="watched-subjects">
      <li>
        <div>
          <a href="/subject/vu/mat_analize">
            <img src="/images/bullet_small.png" />
          </a>
          <h4>
            <a href="/subject/vu/mat_analize">Matematin&#279; analiz&#279;</a>
            <a href="/group/moderators/unwatch_subject?subject_location_id=1&amp;subject_id=mat_analize" class="remove_subject_button">Remove</a>
          </h4>
          <p class="smaller">prof. E. Misevi&#269;ius</p>
          <div>
            <span class="tag">Vilniaus universitetas</span>
          </div>
        </div>
      </li>
    </ul>

    >>> browser.printQuery("id('search-results')")

    >>> browser.open(browser.url)

    >>> browser.getLink('Remove', url='mat_analize').click()

    >>> browser.printQuery("id('watched-subjects')")
    <ul id="watched-subjects"></ul>

    >>> browser.printQuery("id('search-results')")
    <div id="search-results">
      <div class="search-item">
        <a href="/subject/vu/mat_analize" title="Matematin&#279; analiz&#279;" class="item-title larger">Matematin&#279; analiz&#279;</a>
        <a href="/group/moderators/watch_subject?subject_location_id=1&amp;subject_id=mat_analize" class="select_subject_button">Pick</a>
        <div>
          <span class="small">prof. E. Misevi&#269;ius</span>
        </div>
        <div class="item-tags">
        </div>
      </div>
    </div>

These actions should have left an event trail on the group home page:

    >>> browser.getLink('Home', url='group').click()
    >>> browser.printQuery("id('event_list')")
    <ul id="event_list">
      <li>
      Group <a href="/group/moderators">Moderatoriai</a> stopped watching subject <a href="/subject/vu/mat_analize">Matematin&#279; analiz&#279;</a>
        <span class="event_time">(... second... ago)</span>
      </li>
      <li>
      Group <a href="/group/moderators">Moderatoriai</a> started watching subject <a href="/subject/vu/mat_analize">Matematin&#279; analiz&#279;</a>
        <span class="event_time">(... second... ago)</span>
      </li>
      <li>
      Member <a href="/user/1">Adminas Adminovix</a> joined the group <a href="/group/moderators">Moderatoriai</a>
        <span class="event_time">(... second... ago)</span>
      </li>
    </ul>

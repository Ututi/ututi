Create University flow (from front page)
========================================

We can add new University to Ututi by two ways. In admin panel as an admin
or from front page as an anonymouse user.

Let's start from creating university from admin panel.

List of all universities and departments is shown in admin panel Universities view.

    >>> browser = Browser.logIn()
    >>> browser.open('http://localhost/admin')
    >>> browser.getLink('Universities').click()
    >>> browser.printCssQuery('#location_structure .tag_link', strip=True)
    <a>U-niversity</a>
    <a>D-epartment</a>
    <a>Vilniaus universitetas</a>
    <a>Ekonomikos fakultetas</a>
    <a>Geografijos fakultetas</a>


Let's create new university.

    >>> form = browser.getForm('new_structure_form')
    >>> form.getControl(name='title').value = 'New University'
    >>> form.getControl(name='title_short').value = "NU"
    >>> form.getControl(name='description').value = "It's our new University."
    >>> form.getControl('Create').click()
    >>> browser.printCssQuery('#location_structure .tag_link', strip=True)
    <a>U-niversity</a>
    <a>D-epartment</a>
    <a>Vilniaus universitetas</a>
    <a>Ekonomikos fakultetas</a>
    <a>Geografijos fakultetas</a>
    <a>New University</a>


Create new university with existing short name.

    >>> form = browser.getForm('new_structure_form')
    >>> form.getControl(name='title').value = 'North University'
    >>> form.getControl(name='title_short').value = "NU"
    >>> form.getControl(name='description').value = "It's North University with NU as short name."
    >>> form.getControl('Create').click()
    >>> browser.printCssQuery('.error-message', strip=True)
    <span>Such short title already exists, choose a different one.</span>


